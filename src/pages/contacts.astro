---
import Layout from '../layouts/Layout.astro';
import '../../styles/base.css';
import { getNotionProperties, getNotionSandwich } from '../utils';
import saladImg from "../assets/salad.webp";
import { Image } from 'astro:assets';
import menu from '../../data.json'
import fs from "fs";
import MenuComponent from '../components/MenuComponent';

/* const notionOther = await getNotionProperties({
	auth: import.meta.env.NOTION_API_KEY,
}); */

/* const notionSandwich = await getNotionSandwich({
	auth: import.meta.env.NOTION_API_KEY,
}) */

/* const other = await Promise.all(
	notionOther.map(async ({ properties }: any) => {
		let title = '';
		let img = '';
		let description = '';
		if (properties.Picture.files[0]) {
			img = properties.Picture.files[0].file.url || '';
		}
		if (properties.Title.title[0]) {
			title = properties.Title.title[0].plain_text || '';
		}
		if (properties.Description.rich_text[0]) {
			description = properties.Description.rich_text[0].plain_text || '';
		}
		const isAvailable = properties.Available.checkbox;
		const price = properties.Price.number;
		return { img, title, isAvailable, price, description };
	})
); */

/* const sandwich = await Promise.all(
	notionSandwich.map(async ({ properties }: any) => {
		console.log("recipe",properties);
		let title = '';
		let img = '';
		let description = '';
		if (properties.Picture.files[0]) {
			img = properties.Picture.files[0].file.url || '';
		}
		if (properties.Title.title[0]) {
			title = properties.Title.title[0].plain_text || '';
		}
		if (properties.Description.rich_text[0]) {
			description = properties.Description.rich_text[0].plain_text || '';
		}
		const isAvailable = properties.Available.checkbox;
		const price = properties.Price.number;
		return { img, title, isAvailable, price, description };
	})
);

const saveObjectsToJson = async (objects, filename) => {
  try {
    const json = JSON.stringify(objects, null, 2);
    await fs.promises.writeFile(filename, json);
    console.log(`Data saved as ${filename}`);
  } catch (error) {
    console.error('Error saving data as JSON file:', error);
  }
};
 */
// Example usage
/* saveObjectsToJson(sandwich, 'data.json'); */
---

<Layout title="Contacts">
<h1>CONTACTS</h1>
</Layout>